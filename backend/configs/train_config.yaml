model:
  backbone: "microsoft/graphcodebert-base"  
  hidden_size: 768
  num_bug_classes: 8                          
  max_seq_length: 256
  dropout: 0.1
  use_ast_embeddings: true
  use_cfg_embeddings: true

training:
  output_dir: "./checkpoints"
  num_epochs: 10
  batch_size: 2
  grad_accumulation_steps: 2
  learning_rate: 1e-5
  warmup_ratio: 0.06
  weight_decay: 0.01
  fp16: true
  save_steps: 500
  eval_steps: 500
  logging_steps: 50
  load_best_model_at_end: true
  metric_for_best_model: "f1_macro"

  # Multi-task loss weights
  loss_weights:
    bug_classification: 1.0
    severity_regression: 0.5
    complexity_regression: 0.5

data:
  train_file: "data/processed/train.jsonl"
  val_file: "data/processed/val.jsonl"
  test_file: "data/processed/test.jsonl"
  languages: ["python", "javascript", "java", "cpp", "go", "ruby"]
  cache_dir: "./data/cache"

explainability:
  method: "attention_rollout"              
  top_k_tokens: 10
  generate_heatmap: true

inference:
  device: "cuda"                             
  checkpoint: "./checkpoints/best_model"
  batch_size: 2
  threshold:
    bug_detection: 0.5
    severity_high: 0.7

logging:
  project: "codelens-ai"
  entity: null                              
  tags: ["graphcodebert", "multi-task", "code-review"]
